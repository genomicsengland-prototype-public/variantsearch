{#
<tr class="nhsuk-table__row">
  <td class="nhsuk-table__cell">
    {%- for genomicPosition in genomicPositions %}
    <div>{{ genomicPosition }}</div>
    {%- endfor %}
  </td>
  <td
    class="nhsuk-table__cell {{ 'nhsuk-table__middle' if variants | length == 0 }}"
  >
    {%- if variants | length == 0 %} No variants {%- else %}{%- for variant in
    variants %}
    <div><a href="" class="nhsuk-link">{{ variant }}</a></div>
    {%- endfor %}{% endif %}
  </td>
  <td
    class="nhsuk-table__cell {{ 'nhsuk-table__middle' if cases | length == 0 }} nhsuk-table__cell--numeric"
  >
    {%- if cases | length == 0 %} - {%- else %}{%- for case in cases %}
    <div style="margin-bottom: 50px">{{ case }}</div>
    {%- endfor %}{% endif %}
  </td>
  <td class="nhsuk-table__cell nhsuk-u-text-break-word">
    {% for case in cases -%}
    <div style="{{'width:530px;' if case >= 90 }}">
      {% for c in range(0, case) -%}|{%- endfor %}
    </div>
    {%- endfor %}&nbsp;
  </td>
</tr>
#} {% from 'checkboxes/macro.njk' import checkboxes %} {% from
'tables/macro.njk' import table %} {% from 'select/macro.njk' import select %}
{% extends 'layout.html' %} {% block pageTitle %} Variant search results {%
endblock %} {% set cancerPatientData = true %} {% block beforeContent %} {%
endblock %} {% block outerContent %} {% endblock %} 

{% block content %} 

{% macro
tableFiller(genomicPositions=[], variants=[], cases=[], isSearched=false) %}
<tr
  class="nhsuk-table__row"
  style="{{ 'background: #005EB8; color: #fff' if isSearched }}"
>
  <td class="nhsuk-table__cell" style="width: 200px; padding-left: 16px">
    {%- for genomicPosition in genomicPositions %}
    <div>
      {% if isSearched %}
      <strong class="nhsuk-tag nhsuk-tag--white"> Searched </strong> {% endif
      %}{{ genomicPosition }}
    </div>
    {%- endfor %}
  </td>
  <td
    class="nhsuk-table__cell {{ 'nhsuk-table__middle' if variants | length == 0 }}"
    colspan="3"
  >
    {% if variants | length == 0 %}
    <div style="display: flex">
      <div style="width: 210px">No variants</div>
      <div style="width: 120px">-</div>
      <div style="width: 520px" class="nhsuk-u-text-break-word">&nbsp;</div>
    </div>
    {% else %} {%- for variant in variants %}
    <div style="display: flex">
      <div style="width: 190px;  line-height: 99%;" class="{{ 'nhsuk-u-margin-bottom-3' if not loop.last }}">
        <a href="#" class="nhsuk-link{{ ' nhsuk-link--reverse' if isSearched }} nhsuk-u-text-break-word">{{ variant }}</a>
      </div>
      <div style="width: 100px; text-align: left; padding-left: 14px; line-height: 0.952em;" class="{{ 'nhsuk-u-margin-bottom-3' if not loop.last }}">
        {{ cases[loop.index0] }}
      </div>
      <div style="width: 520px; line-height: 0.952em;" class="nhsuk-u-text-break-word{{ ' nhsuk-u-margin-bottom-3' if not loop.last }}">
        {% for c in range(0, cases[loop.index0]) -%}|{%- endfor %}
      </div>
    </div>
    {% endfor %} {% endif %}
  </td>
</tr>
{% endmacro %}

<div class="nhsuk-grid-row nhsuk-u-margin-bottom-6">
  <div class="nhsuk-grid-column-full">
    <div class="nhsuk-warning-callout">
      <h3 class="nhsuk-warning-callout__label">
        <span role="text">
          <span class="nhsuk-u-visually-hidden">Important: </span>
          For research use only
        </span>
      </h3>
      <p>
        The data shown is not verified and must not be used to make medical
        decisions or diagnoses.
      </p>
    </div>
    <h1 class="nhsuk-heading-l">
      11 Colon Adenocarcinoma cases with genomic position variant 9:20414306:GCTGCTA:G 
    </h1>
    <p class="nhsuk-body">
      0.56% of 1948 Colon Adenocarcinoma cases in this dataset are at position 9:20414306:GCTGCTA:G.
    </p>

    <h2 class="nhsuk-heading-l">
      18 cases with any tumour at position 9:20414306:GCTGCTA:G
    </h2>
    <p  class="nhsuk-body nhsuk-u-margin-bottom-8">0.13% of 13,873 solid tumour cases in this dataset are at position 9:20414306:GCTGCTA:G.</p>

    {{ select({ id: "sort", name: "sort", classes: "nhsuk-u-margin-bottom-2",
    label: { text: "Sort table" }, items: [ { value: 'a-z', text: "Tumour type
    A-Z", selected: true }, { value: 'z-a', text: "Tumour Z-A" }, { value:
    'high-low', text: "Cases with searched variant high to low" }, { value:
    'low-high', text: "Cases with searched variant low to high" } ] }) }} 
    {{
    checkboxes({ idPrefix: "filterTable", name: "filterTable", fieldset: {
    legend: { text: "Filter table", isPageHeading: false } }, 
    items: [ 
    { value: "showInFrame", text: "Show in-frame deletions within the same amino acid region", checked: true }, 
    { value: "showAllTruncating", text: "Show all truncating variants at the same position of further downstream", checked: true }, 
    { value: "includeTumours", text: "Include tumours with zero values for this variant, in-frame deletions, or truncating variants", checked: true } ] }) }} 
    {% set dataRow = [] %} 
    {% set tot = [ {text: 'TOTAL'}, {text: '18'}, {text: '161'}, {text: '690'}, {text: '13873'} ]%} 
    {% set temp6 = [ {text: 'Bladder Urothelial Carcinoma'}, {text: '0'}, {text: '1'}, {text: '0'}, {text: '259'} ]%} 
    {% set temp7 = [ {text: 'Breast Invasive Carcinoma'},   {text: '0'},  {text: '1'},  {text: '0'},  {text: '2925'} ]%} 
    {% set temp8 = [ {text: 'Cholangiocarcinoma'},   {text: '0'},  {text: '0'},  {text: '0'},  {text: '31'} ]%} 
    {% set temp9 = [ {text: 'Colon Adenocarcinoma'},   {text: '11'},  {text: '123'},  {text: '556'},  {text: '1948'} ]%} 
    {% set temp10 = [ {text: 'Esophageal Adenocarcinoma'},  {text: '0'},  {text: '3'},  {text: '0'},  {text: '91'} ]%} 
    {% set temp11 = [ {text: 'Ovarian Endometrioid Adenocarcinoma'},  {text: '0'},  {text: '0'},  {text: '0'},  {text: '102'} ]%} 
    {% set temp12 = [ {text: 'Esophageal Squamous Cell Carcinoma'},  {text: '0'},  {text: '0'},  {text: '0'},  {text: '16'} ]%} 
    {% set temp13 = [ {text: 'Glioblastoma Multiforme'},  {text: '0'},  {text: '2'},  {text: '5'},  {text: '315'} ]%} 
    {% set temp14 = [ {text: 'Colorectal and Upper GI Neuroendocrine'},  {text: '0'},  {text: '0'},  {text: '0'},  {text: '76'} ]%} 
    {% set temp15 = [ {text: 'Ovarian High Grade Serous Carcinoma'},  {text: '0'},  {text: '1'},  {text: '0'},  {text: '372'} ]%} 
    {% set temp16 = [ {text: 'Head and Neck Squamous Cell Carcinoma'},  {text: '0'},  {text: '0'},  {text: '0'},  {text: '245'} ]%} 
    {% set temp17 = [ {text: 'Kidney Chromophobe'},  {text: '0'},  {text: '0'},  {text: '0'},  {text: '96'} ]%} 
    {% set temp18 = [ {text: 'Kidney Renal Clear Cell Carcinoma'},  {text: '0'},  {text: '0'},  {text: '0'},  {text: '1163'} ]%} 
    {% set temp19 = [ {text: 'Kidney Renal Papillary Cell Carcinoma'},  {text: '0'},  {text: '0'},  {text: '0'},  {text: '114'} ]%} 
    {% set temp20 = [ {text: 'Lung Neuroendocrine'},  {text: '0'},  {text: '0'},  {text: '0'},  {text: '122'} ]%} 
    {% set temp21 = [ {text: 'Low Grade Glioma'},  {text: '0'},  {text: '0'},  {text: '0'},  {text: '176'} ]%} 
    {% set temp22 = [ {text: 'Ovarian Serous Carcinoma'},  {text: '0'},  {text: '0'},  {text: '0'},  {text: '24'} ]%} 
    {% set temp23 = [ {text: 'Liver Hepatocellular Carcinoma'},  {text: '0'},  {text: '0'},  {text: '0'},  {text: '25'} ]%} 
    {% set temp24 = [ {text: 'Lung Adenocarcinoma'},  {text: '2'},  {text: '18'},  {text: '67'},  {text: '813'} ]%} 
    {% set temp25 = [ {text: 'Lung Squamous Cell Carcinoma'},  {text: '5'},  {text: '22'},  {text: '0'},  {text: '448'} ]%} 
    {% set temp26 = [ {text: 'Mesothelioma'},  {text: '0'},  {text: '0'},  {text: '0'},  {text: '48'} ]%} 
    {% set temp27 = [ {text: 'Pancreatic Adenocarcinoma'},  {text: '0'},  {text: '1'},  {text: '0'},  {text: '121'} ]%} 
    {% set temp28 = [ {text: 'Prostate Adenocarcinoma'},  {text: '0'},  {text: '0'},  {text: '0'},  {text: '572'} ]%} 
    {% set temp29 = [ {text: 'Rectum Adenocarcinoma'},  {text: '0'},  {text: '1'},  {text: '0'},  {text: '830'} ]%} 
    {% set temp30 = [ {text: 'Sarcoma'},  {text: '0'},  {text: '0'},  {text: '0'},  {text: '1617'} ]%} 
    {% set temp31 = [ {text: 'Skin Cutaneous Melanoma'},  {text: '0'},  {text: '0'},  {text: '0'},  {text: '325'} ]%} 
    {% set temp32 = [ {text: 'Stomach Adenocarcinoma'},  {text: '0'},  {text: '3'},  {text: '7'},  {text: '105'} ]%} 
    {% set temp33 = [ {text: 'Testicular Germ Cell Tumours'},  {text: '0'},  {text: '0'},  {text: '0'},  {text: '61'} ]%} 
    {% set temp34 = [ {text: 'Uterine Corpus Endometrial Carcinoma'},  {text: '0'},  {text: '25'},  {text: '122'},  {text: '706'} ]%} 
    {% set temp35 = [ {text: 'Uterine Corpus Endometrial Serous Carcinoma'},  {text: '0'},  {text: '0'},  {text: '0'},  {text: '113'} ]%} 
    {% set temp36 = [ {text: 'Uveal Melanoma'},  {text: '0'},  {text: '0'},  {text: '0'},  {text: '16'} ]%} 
    {% set dataRow = (
      dataRow.push(tot), 
      dataRow.push(temp6), 
      dataRow.push(temp7), 
      dataRow.push(temp8), 
      dataRow.push(temp9), 
      dataRow.push(temp10), 
      dataRow.push(temp11), 
      dataRow.push(temp12), 
      dataRow.push(temp13), 
      dataRow.push(temp14), 
      dataRow.push(temp15), 
      dataRow.push(temp16), 
      dataRow.push(temp17), 
      dataRow.push(temp18), 
      dataRow.push(temp19), 
      dataRow.push(temp20), 
      dataRow.push(temp21), 
      dataRow.push(temp22), 
      dataRow.push(temp23), 
      dataRow.push(temp24), 
      dataRow.push(temp25), 
      dataRow.push(temp26), 
      dataRow.push(temp27), 
      dataRow.push(temp28), 
      dataRow.push(temp29), 
      dataRow.push(temp30), 
      dataRow.push(temp31), 
      dataRow.push(temp32), 
      dataRow.push(temp33), 
      dataRow.push(temp34), 
      dataRow.push(temp35), 
      dataRow.push(temp36), 
      dataRow)
     %} 

    {{ table({ head: [ {text: "Tumour type" }, { text: "Cases with variant 9:20414306: GCTGCTA:G" }, { text: "In frame deletions within these amino acids" }, {text: "Truncating variants in this position and downstream" }, { text: "Total cases with this variant in the dataset" } ], rows: dataRow }) }}

    <p class="nhsuk-u-margin-bottom-8">
      <a href="#" class="nhsuk-link"
        >Download results as a CSV file for Excel</a
      >
    </p>

    <h3 class="nhsuk-heading-m">Variants in the region of 9:20414306:GCTGCTA:G</h3>

    <table class="nhsuk-table">
      <thead class="nhsuk-table__head">
        <tr>
          <th scope="col" class="nhsuk-table__header" style="min-width: 290px">
            Genomic position
          </th>
          <th scope="col" class="nhsuk-table__header" style="width: 120px">
            Change
          </th>
          <th
            scope="col"
            class="nhsuk-table__header nhsuk-table__header--numeric"
            style="width: 110px"
          >
            Cases
          </th>
          <th scope="col" class="nhsuk-table__header" style="width: 520px">
            &nbsp;
          </th>
        </tr>
      </thead>
      <tbody class="nhsuk-table__body">
        {{tableFiller(["9:20414296","9:20414297","9:20414298","9:20414299"]) }}
        {{tableFiller(["9:20414300"], ["A:ACTGCTGCTGCTACTGCTGCTGCTGCTG","A:ACTGCTGCTACTGCTGCTGCTGCTGCTG","A:ACTGCTGCTGCTGCTGCTGCTGCTGCT","A:ACTGCTGCTGCTA","A:ACTGCTGCTGCTGC","A:ACTG","A:ACTGCTGCT"], [33, 4, 2, 1, 17, 23, 1]) }}
        {{tableFiller(["9:20414301","9:20414302"]) }}
        {{tableFiller(["9:20414303"], ["G:GCTGCTGCTACTGC", "GCTGCTGCTA:G"], [3,7]) }}
        {{tableFiller(["9:20414304","9:20414305"]) }}
        {{tableFiller(["9:20414306"], ["GCTGCTA:G"], [18], true) }}
        {{tableFiller(["9:20414307","9:20414308","9:20414309","9:20414310","9:20414311"]) }}
        {{tableFiller(["9:20414312"], ["ACTG:A","A:ACTG","A:ACTGCTG","ACTGCTG:A","A:ACTGCTGCTG","A:ACTGCTGCTGCTGCTGCTG","A:ACTGCTGCTGCTGCTGCTGCTACTGCTGCTGCTGCTGCTGCTG","A:ACTGCTGCTGCTGCTGCTGCTG","A:ACTGCTGCTGCTGCTGCTGCTGCTGCTGCTGCTGCTGCTG","ACTGCTGCTGCTG:A","ACTGCTGCTGCTGCTGCTGCTG:A","ACTGCTGCTG:A"], [53,39,62,5,31,3,164,2,135,7,12,1]) }}
        {{tableFiller(["9:20414313"], ["C:T"], [3]) }}
        {{tableFiller(["9:20414314"]) }}
        {{tableFiller(["9:20414315"], ["G:GCTGCTGCTGCTGCTGCTGCTGCTGCTA","GCTGCTGCTGCTGCTGCTGCTGCTGC:G","G:GCTGCTGCTGCTGCTGCTGCTGC"], [11,3,2]) }}
        {{tableFiller(["9:20414316"], ["C:T"], [1]) }}
      </tbody>
    </table>
  </div>
  </div>
<div class="nhsuk-grid-row">
  <div class="nhsuk-grid-column-two-thirds">

<div class="nhsuk-form-group nhsuk-u-margin-bottom-0">
  <button
    class="nhsuk-button nhsuk-button--secondary"
    data-module="nhsuk-button"
    type="submit"
  >
    Edit this search
  </button>
</div>
<div class="nhsuk-form-group nhsuk-u-margin-bottom-6">
  <button class="nhsuk-button" data-module="nhsuk-button" type="submit">
    Start a new search
  </button>
</div>
<h3 class="nhsuk-heading-s">Data sources</h3>
<p>
  100K Genomes Project Pan-Cancer data is from "<a href="#"
    >Table S1: Somatic small variant protein changes</a
  >", Sosinsky et al., Nat Med 30, 279-289 (2024)
</p>

</div>
</div>

{% endblock %}
